### –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
1. [–ë—ã—Å—Ç—Ä–æ–µ –Ω–∞—á–∞–ª–æ (Windows)](#fast-windows)
2. [–ê—Ä—Ö–∏–≤–∏—Ä—É–µ–º –º–æ–¥–µ–ª—å](#archive-model)
   1. –ö–∞–∫ Torchserve –≤–∏–¥–∏—Ç –º–æ–¥–µ–ª–∏
   2. –ß—Ç–æ —Ç–∞–∫–æ–µ handler (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫) ?
   3. –ü–∏—à–µ–º —Å–≤–æ–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
   4. 

---

## <a id="fast-windows"></a>üöÄ –ë—ã—Å—Ç—Ä–æ–µ –Ω–∞—á–∞–ª–æ (Windows)


### **–ó–∞–±—Ä–∞—Ç—å [—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å Torchserve](https://github.com/Aleksey512/Torchserve)**

* –° –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏

```shell
git clone https://github.com/Aleksey512/Torchserve.git

# –ò–ª–∏ –µ—Å–ª–∏ –µ—Å—Ç—å SSH –∫–ª—é—á

git clone git@github.com:Aleksey512/Torchserve.git 
```
 
* –° –ø–æ–º–æ—â—å—é IDE (–ù–∞ –ø—Ä–∏–º–µ—Ä–µ [PyCharm](https://www.jetbrains.com/ru-ru/pycharm/))
 
![Photo](img/screenIDE.png)

### **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å [Docker](https://www.docker.com/)**

–î–ª—è –Ω–µ–≥–æ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å wsl2
 
–î–ª—è —ç—Ç–æ–≥–æ –æ—Ç–∫—Ä—ã–≤–∞–º PowerShell —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∏ –≤—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É

 ```shell
 wsl --install
```

–ü–æ–¥—Ä–æ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –æ–ø–∏—Å–∞–Ω –Ω–∞ —Å–∞–π—Ç–µ [Microsoft](https://docs.microsoft.com/ru-ru/windows/wsl/install-win10), —Ç–∞–º –∂–µ —É–∫–∞–∑–∞–Ω—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è.

–î–∞–ª–µ–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å–∞–º **[Docker](https://www.docker.com/)**, —Å–ª–µ–¥—É—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞

[–°–∫–∞—á–∏–≤–∞–µ–º](https://www.kaggle.com/datasets/boliu0/melanoma-winning-models) –∏ –ø–æ–º–µ—â–∞–µ–º –Ω–∞—à—É –º–æ–¥–µ–ª—å (***9c_b7ns_1e_640_ext_15ep.pth***)
–≤ –ø–∞–ø–∫—É ***model_dir*** –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ–º –º–æ–¥–µ–ª—å –≤ ***model.pth***

### –ó–∞–ø—É—Å–∫

1. –ó–∞–ø—É—Å–∫–∞–µ–º DockerDesktop ![DockerDesktop](img/DockerDesktop.png)
2. –ó–∞–ø—É—Å–∫–∞–µ–º PowerShell
3. –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –ø–∞–ø–∫—É —Å –ø—Ä–æ–µ–∫—Ç–æ–º
    ```shell
    cd –ø—É—Ç—å/–¥–æ/–ø–∞–ø–∫–∏/
    ```
4. –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É
    ```
    docker compose up --build   
   ```
   
### üòä –ü–æ–∑–¥—Ä–∞–≤–ª—è—é —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω

–ß—Ç–æ –±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞–∫–∏–µ –º–æ–¥–µ–ª–∏ —É –Ω–∞—Å –µ—Å—Ç—å, –≤ —Å—Ç—Ä–æ–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞–±–µ—Ä–∏—Ç–µ:

```djangourlpath
http://localhost:8081/models
```
–ü—Ä–∏–º–µ—Ä–Ω—ã–π –≤—ã–≤–æ–¥:
```JSON
{
   "model_name": "model", 
   "model_url": "model.pth"
}
```

–î–ª—è —Ç–æ–≥–æ —á—Ç–æ –±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –Ω–∞—à—É –º–æ–¥–µ–ª—å, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å POST –∑–∞–ø—Ä–æ—Å, –∏ –≤ body —É–∫–∞–∑–∞—Ç—å —Ñ–ª–∞–≥ **file** = photo.jpg –ø–æ –∞–¥—Ä–µ—Å—Å—É:
```djangourlpath
http://localhost:8080/predictions/–ò–ú–Ø_–ú–û–î–ï–õ–ò
```

–ü—Ä–∏–º–µ—Ä–Ω—ã–π –≤—ã–≤–æ–¥:

```JSON
{
  "melanoma": 0.91493821144104,
  "nevus": 0.005232867784798145
}
```

–≠—Ç–æ—Ç —Ñ–ª–∞–≥, –∫–∞–∫ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–µ, –ø–æ–ª—É—á–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –≤ —Ñ–∞–π–ª–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ –º–æ–¥–µ–ª–∏ (***handler.py***)

---

## <a id="archive-model"></a> üöÄ –ê—Ä—Ö–∏–≤–∏—Ä—É–µ–º –º–æ–¥–µ–ª—å

